---
description: Angular Standalone Component 模板
globs: ["src/app/**/*.component.ts"]
alwaysApply: false
---

# Angular Standalone Component 模板

## 組件結構

```typescript
import { Component, signal, computed, inject, input, output, viewChild, ChangeDetectionStrategy } from '@angular/core';
import { SHARED_IMPORTS } from '@shared/shared-imports';

@Component({
  selector: 'app-example',
  standalone: true,
  imports: [SHARED_IMPORTS],
  templateUrl: './example.component.html',
  styleUrls: ['./example.component.scss'],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class ExampleComponent {
  // 使用 inject() 進行依賴注入
  private readonly service = inject(ExampleService);
  
  // 使用 input() 替代 @Input()
  readonly title = input<string>('Default Title');
  readonly count = input.required<number>();
  
  // 使用 output() 替代 @Output()
  readonly itemClick = output<Item>();
  
  // 使用 viewChild() 替代 @ViewChild()
  readonly headerElement = viewChild<ElementRef>('header');
  
  // 使用 signal() 創建響應式狀態
  private readonly state = signal<StateType>(initialValue);
  
  // 使用 computed() 創建派生狀態
  readonly derivedState = computed(() => {
    return this.state().someProperty;
  });
}
```

## 模板結構

```html
@if (condition()) {
  <div>Content</div>
}

@for (item of items(); track item.id) {
  <div>{{ item.name }}</div>
} @empty {
  <div>No items found</div>
}

@switch (status()) {
  @case ('active') {
    <span>Active</span>
  }
  @default {
    <span>Inactive</span>
  }
}

<!-- 在模板中調用 Signal 時必須使用括號 -->
<div>{{ mySignal() }}</div>
```

## 注意事項

- 必須使用 `SHARED_IMPORTS`
- 必須使用 `OnPush` 變更檢測策略
- 優先使用 Signal Inputs (`input()`) 而非 `@Input()` 裝飾器
- 優先使用 Signal Outputs (`output()`) 而非 `@Output()` 裝飾器
- 優先使用 Signal Queries (`viewChild()`, `contentChild()`) 而非裝飾器
- 使用現代控制流程語法（@if、@for、@switch、@empty）
- 在模板中調用 Signal 時必須使用括號：`{{ mySignal() }}`
- 使用 `readonly` 修飾符保護不可變屬性
