---
description: Angular 20 現代化特性與遷移指南
globs: ["**/*.ts", "**/*.html"]
alwaysApply: false
---

# Angular 20 現代化特性

> **相關規則**：參考 [Angular 20 最佳實踐](./angular.mdc)、[類型安全](./typescript.mdc)

## Signal Inputs 和 Outputs

- 使用 `input()` 替代 `@Input()` 裝飾器
- 使用 `output()` 替代 `@Output()` 裝飾器
- 使用 `input.required()` 標記必需的輸入
- Signal Inputs 自動提供類型安全，無需額外類型標註（參考 [類型安全](./typescript.mdc)）

## Signal Queries

- 使用 `viewChild()` 替代 `@ViewChild()` 裝飾器
- 使用 `contentChild()` 替代 `@ContentChild()` 裝飾器
- 使用 `viewChildren()` 替代 `@ViewChildren()` 裝飾器
- 使用 `contentChildren()` 替代 `@ContentChildren()` 裝飾器
- Signal Queries 返回 Signal，在模板中調用時必須使用括號

## Standalone 遷移

- 使用 `ng generate @angular/core:standalone` 進行自動遷移
- 使用 `bootstrapApplication()` 替代 `bootstrapModule()`
- 移除不必要的 NgModules
- 確保所有組件、指令、管道都是 standalone

## 模板最佳實踐

- 在模板中調用 Signal 時必須使用括號：`{{ mySignal() }}`
- 使用 `@empty` 塊處理 `@for` 循環的空列表情況
- 使用 `track` 函數優化 `@for` 循環性能
- 避免在模板中使用複雜表達式，優先使用 `computed()` Signal

## 診斷和錯誤處理

- 啟用 `strictTemplates` 以獲得更好的類型檢查（參考 [類型安全](./typescript.mdc)）
- Angular 會自動檢測未使用的 standalone imports
- 使用 Angular 的擴展診斷功能（如 NG8113）檢測問題

## 參考文檔

- [Angular Signal Inputs](https://angular.dev/api/core/input)
- [Angular Signal Queries](https://angular.dev/api/core/viewChild)
- [Angular Standalone Migration](https://angular.dev/reference/migrations/standalone)
- [Angular 20 最佳實踐](./angular.mdc)
