---
description: 代碼質量與最佳實踐規範
globs: ["**/*.ts", "**/*.tsx", "**/*.html"]
alwaysApply: true
---

# 代碼質量規範

> **相關規則**：參考 [類型安全](./typescript.mdc)、[代碼檢查](./linting.mdc)、[代碼格式化](./formatting.mdc)、[架構規範](./architecture.mdc)

## 禁止重複造輪

- 實作前必須先搜尋專案內是否有現成解決方案
- 優先重構或擴展現有功能，而非從零建立
- 查閱 `SHARED_IMPORTS` 與公共模組，優先使用既有工具（參考 [共享模組優先使用](./shared-imports.mdc)）

## 禁止權宜式修改

- 禁止使用臨時 workaround、quick fix、hack 等權宜式解法
- 必須採用結構化解法，完整思考問題根源
- 提供可持續、可維護的解決方案，而非僅為快速解決問題

## 命名規範一致性

- 遵循專案既有的命名慣例（檔案、類別、函數、變數）
- 對齊路由規則、依賴匯入的一致性
- 使用清晰的命名，避免縮寫與歧義
- 保持模組、服務、組件的命名模式統一

## 文檔化

- 每個模組需提供 README.md 說明職責
- 複雜邏輯需提供 JSDoc 註釋
- 架構決策記錄在 AGENTS.md 中
- 資料庫變更需同步更新模型定義（`docs/30-1.md`）
- 架構變更需同步更新架構文檔（`docs/13-1.md`, `docs/13-2.md`）
- 定期檢查文檔與程式碼的一致性

## 早期發現不一致

- 使用 Supabase MCP 定期檢查數據庫結構（參考 [MCP 工具](./mcp-tools.mdc)）
- 使用 TypeScript 嚴格模式捕獲類型錯誤（參考 [類型安全](./typescript.mdc)）
- 使用 ESLint 和 Stylelint 進行代碼檢查（參考 [代碼檢查](./linting.mdc)、[樣式規範](./styling.mdc)）
