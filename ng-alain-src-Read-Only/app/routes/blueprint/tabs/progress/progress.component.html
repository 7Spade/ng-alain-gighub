@if (loading()) {
<nz-spin nzSimple [nzSize]="'large'" style="display: block; text-align: center; padding: 50px;"></nz-spin>
} @else if (blueprintId(); as blueprintId) {
@if (blueprint(); as bp) {
<nz-card [nzBordered]="false" class="mb-lg">
  <div nz-row [nzGutter]="16" nzAlign="middle">
    <div nz-col nzFlex="auto">
      <h2 class="text-xl font-medium mb-xs">{{ bp.name }}</h2>
      <div class="text-muted">專案狀態：{{ blueprintHealth().label }}</div>
    </div>
    <div nz-col nzFlex="none" class="text-center">
      <nz-progress nzType="circle" [nzPercent]="bp.progress_percentage || 0" [nzWidth]="88"></nz-progress>
      <div class="mt-sm text-muted">整體進度</div>
    </div>
  </div>
</nz-card>
}

<task-progress-panel [blueprintId]="blueprintId"></task-progress-panel>
} @else {
<nz-empty nzNotFoundContent="藍圖不存在或無存取權限"></nz-empty>
}