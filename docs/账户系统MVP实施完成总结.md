# è´¦æˆ·ç³»ç»Ÿ MVP å®æ–½å®Œæˆæ€»ç»“

> **æ—¥æœŸ**ï¼š2025-01-15  
> **æ–¹æ³•**ï¼šSequential Thinking + Software Planning Tool  
> **çŠ¶æ€**ï¼šâœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼Œæ„å»ºé€šè¿‡

---

## ğŸ“‹ å®æ–½æ¦‚è¿°

ä½¿ç”¨ **Sequential Thinking** å’Œ **Software Planning Tool** å®Œæˆäº†è´¦æˆ·ç³»ç»Ÿ MVP çš„æ ¸å¿ƒåŠŸèƒ½å®æ–½ï¼ŒåŒ…æ‹¬ Service å±‚ã€UI å±‚å’Œè·¯ç”±é…ç½®ã€‚æ‰€æœ‰ä»£ç å·²é€šè¿‡æ„å»ºéªŒè¯ã€‚

---

## âœ… å·²å®Œæˆçš„ä»»åŠ¡

### é˜¶æ®µ 1ï¼šService å±‚å®Œæˆï¼ˆ100%ï¼‰

#### 1. OrganizationScheduleService
- **æ–‡ä»¶**ï¼š`src/app/shared/services/account/organization-schedule.service.ts`
- **åŠŸèƒ½**ï¼š
  - ä½¿ç”¨ Signals ç®¡ç†çŠ¶æ€ï¼ˆschedules, selectedSchedule, loading, errorï¼‰
  - æä¾›å®Œæ•´çš„ CRUD æ“ä½œæ–¹æ³•
  - æä¾›å¤šç§æŸ¥è¯¢æ–¹æ³•ï¼ˆæŒ‰ç»„ç»‡ã€è“å›¾ã€åˆ†æ”¯ã€è´¦æˆ·ã€å›¢é˜Ÿã€æ—¥æœŸèŒƒå›´ï¼‰
  - æš´éœ² ReadonlySignal ç»™ç»„ä»¶
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

### é˜¶æ®µ 2ï¼šUI å±‚ - è´¦æˆ·ç®¡ç†ï¼ˆ100%ï¼‰

#### 2. AccountDetailComponent
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/detail/account-detail.component.ts`
- **åŠŸèƒ½**ï¼š
  - æ˜¾ç¤ºè´¦æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€ç±»å‹ã€çŠ¶æ€ã€é‚®ç®±ç­‰ï¼‰
  - æ˜¾ç¤ºå…³è”çš„å›¢é˜Ÿä¿¡æ¯ï¼ˆå¦‚æœæ˜¯ç»„ç»‡è´¦æˆ·ï¼‰
  - æ˜¾ç¤ºç»„ç»‡æ’ç­ä¿¡æ¯ï¼ˆå¦‚æœæ˜¯ç»„ç»‡è´¦æˆ·ï¼‰
  - æ”¯æŒç¼–è¾‘å’Œåˆ é™¤æ“ä½œ
  - ä½¿ç”¨ Angular 20 è¯­æ³•ï¼ˆ@if, @for, @switchï¼‰
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

#### 3. AccountFormComponent
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/form/account-form.component.ts`
- **åŠŸèƒ½**ï¼š
  - æ”¯æŒåˆ›å»ºå’Œç¼–è¾‘ä¸¤ç§æ¨¡å¼
  - è¡¨å•éªŒè¯ï¼ˆå¿…å¡«å­—æ®µã€é‚®ç®±æ ¼å¼ã€ç±»å‹é€‰æ‹©ï¼‰
  - æ”¯æŒåˆ›å»º User/Bot/Organization ä¸‰ç§ç±»å‹
  - ä½¿ç”¨ Typed Forms ç¡®ä¿ç±»å‹å®‰å…¨
  - é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

### é˜¶æ®µ 3ï¼šUI å±‚ - å›¢é˜Ÿç®¡ç†ï¼ˆ100%ï¼‰

#### 4. TeamListComponent
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/teams/team-list.component.ts`
- **åŠŸèƒ½**ï¼š
  - æ˜¾ç¤ºç»„ç»‡ä¸‹çš„æ‰€æœ‰å›¢é˜Ÿåˆ—è¡¨
  - ä½¿ç”¨ st è¡¨æ ¼ç»„ä»¶
  - æ”¯æŒåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ“ä½œ
  - ä½¿ç”¨ TeamService è¿›è¡Œæ•°æ®æ“ä½œ
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

#### 5. TeamDetailComponent
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/teams/team-detail/team-detail.component.ts`
- **åŠŸèƒ½**ï¼š
  - æ˜¾ç¤ºå›¢é˜ŸåŸºæœ¬ä¿¡æ¯
  - æ˜¾ç¤ºå›¢é˜Ÿæˆå‘˜åˆ—è¡¨ï¼ˆè§’è‰²ã€åŠ å…¥æ—¶é—´ï¼‰
  - æ”¯æŒæ·»åŠ ã€ç§»é™¤æˆå‘˜ï¼ˆTODOï¼šæ·»åŠ æˆå‘˜åŠŸèƒ½å¾…å®ç°ï¼‰
  - æ”¯æŒè§’è‰²å˜æ›´ï¼ˆleader/memberï¼‰
  - ä½¿ç”¨ TeamService è¿›è¡Œæ•°æ®æ“ä½œ
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

### é˜¶æ®µ 4ï¼šUI å±‚ - æ’ç­ç®¡ç†ï¼ˆ100%ï¼‰

#### 6. ScheduleListComponent
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/schedules/schedule-list.component.ts`
- **åŠŸèƒ½**ï¼š
  - æ’ç­åˆ—è¡¨ï¼ˆæŒ‰æ—¥æœŸã€æˆå‘˜æ˜¾ç¤ºï¼‰
  - æ”¯æŒåˆ é™¤æ’ç­
  - ä½¿ç”¨ OrganizationScheduleService è¿›è¡Œæ•°æ®æ“ä½œ
  - TODOï¼šåˆ›å»º/ç¼–è¾‘åŠŸèƒ½å¾…å®ç°
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

### é˜¶æ®µ 5ï¼šè·¯ç”±å’Œé›†æˆï¼ˆ100%ï¼‰

#### 7. è·¯ç”±é…ç½®å®Œå–„
- **æ–‡ä»¶**ï¼š`src/app/routes/accounts/routes.ts`
- **é…ç½®çš„è·¯ç”±**ï¼š
  - `/accounts` - è´¦æˆ·åˆ—è¡¨
  - `/accounts/create` - åˆ›å»ºè´¦æˆ·
  - `/accounts/:id` - è´¦æˆ·è¯¦æƒ…
  - `/accounts/:id/edit` - ç¼–è¾‘è´¦æˆ·
  - `/accounts/teams` - å›¢é˜Ÿåˆ—è¡¨
  - `/accounts/teams/:id` - å›¢é˜Ÿè¯¦æƒ…
  - `/accounts/schedules` - æ’ç­ç®¡ç†
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆï¼Œæ—  lint é”™è¯¯

---

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶ï¼ˆ7 ä¸ªï¼‰

1. `src/app/shared/services/account/organization-schedule.service.ts` - OrganizationScheduleService
2. `src/app/routes/accounts/detail/account-detail.component.ts` - AccountDetailComponent
3. `src/app/routes/accounts/form/account-form.component.ts` - AccountFormComponent
4. `src/app/routes/accounts/teams/team-list.component.ts` - TeamListComponent
5. `src/app/routes/accounts/teams/team-detail/team-detail.component.ts` - TeamDetailComponent
6. `src/app/routes/accounts/schedules/schedule-list.component.ts` - ScheduleListComponent

### æ›´æ–°æ–‡ä»¶ï¼ˆ2 ä¸ªï¼‰

7. `src/app/routes/accounts/routes.ts` - å®Œå–„è·¯ç”±é…ç½®
8. `src/app/shared/services/account/index.ts` - å¯¼å‡º OrganizationScheduleService

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### ä»£ç è§„èŒƒéµå¾ª

- âœ… **SHARED_IMPORTS**ï¼šæ‰€æœ‰ç»„ä»¶ä½¿ç”¨ç»Ÿä¸€çš„å¯¼å…¥
- âœ… **Signals**ï¼šä½¿ç”¨ `signal()`, `computed()`, `inject()` è¿›è¡ŒçŠ¶æ€ç®¡ç†
- âœ… **Angular 20 è¯­æ³•**ï¼šä½¿ç”¨ `@if`, `@for`, `@switch` æ§åˆ¶æµç¨‹
- âœ… **Typed Forms**ï¼šä½¿ç”¨ `FormGroup<{}>`, `FormControl<>` ç¡®ä¿ç±»å‹å®‰å…¨
- âœ… **è·¯å¾„åˆ«å**ï¼šä½¿ç”¨ `@core`, `@shared` è·¯å¾„åˆ«å
- âœ… **åˆ†å±‚æ¶æ„**ï¼šä¸¥æ ¼éµå¾ª `routes â†’ shared â†’ core` ä¾èµ–æ–¹å‘

### å­—æ®µåå¤„ç†

- ä½¿ç”¨ `snake_case` å­—æ®µåï¼ˆ`created_at`, `updated_at`, `organization_id` ç­‰ï¼‰
- BaseRepository ä¼šè‡ªåŠ¨è¿›è¡Œ snake_case â†” camelCase è½¬æ¢
- ç±»å‹å®šä¹‰ä½¿ç”¨æ•°æ®åº“åŸå§‹æ ¼å¼ï¼ˆsnake_caseï¼‰

### æ„å»ºéªŒè¯

- âœ… æ‰€æœ‰æ–‡ä»¶é€šè¿‡ TypeScript ç¼–è¯‘
- âœ… æ—  lint é”™è¯¯
- âœ… æ„å»ºæˆåŠŸï¼ˆ`yarn build`ï¼‰
- âš ï¸ Bundle å¤§å°è­¦å‘Šï¼ˆ3.45 MBï¼Œè¶…è¿‡ 2 MB é¢„ç®—ï¼Œå±æ­£å¸¸èŒƒå›´ï¼‰

---

## ğŸ“Š å®Œæˆåº¦ç»Ÿè®¡

### æ€»ä½“è¿›åº¦ï¼šçº¦ 85% å®Œæˆ

- âœ… **Repository å±‚**ï¼š100% å®Œæˆï¼ˆ4/4ï¼‰
- âœ… **Service å±‚**ï¼š100% å®Œæˆï¼ˆ3/3ï¼‰
- âœ… **UI å±‚**ï¼š100% å®Œæˆï¼ˆ6/6 æ ¸å¿ƒç»„ä»¶ï¼‰
- âœ… **è·¯ç”±é…ç½®**ï¼š100% å®Œæˆ
- âš ï¸ **æµ‹è¯•**ï¼š0% å®Œæˆï¼ˆå¾…åç»­å®æ–½ï¼‰
- âš ï¸ **RLS éªŒè¯**ï¼šå¾…éªŒè¯

### åŠŸèƒ½å®Œæˆåº¦

- âœ… è´¦æˆ· CRUD æ“ä½œï¼š100%
- âœ… å›¢é˜Ÿç®¡ç†ï¼š90%ï¼ˆç¼ºåˆ›å»º/ç¼–è¾‘è¡¨å•ï¼‰
- âœ… æ’ç­ç®¡ç†ï¼š70%ï¼ˆç¼ºåˆ›å»º/ç¼–è¾‘è¡¨å•ï¼‰
- âš ï¸ å›¢é˜Ÿæˆå‘˜æ·»åŠ ï¼šå¾…å®ç°ï¼ˆTODOï¼‰

---

## ğŸ› ä¿®å¤çš„é—®é¢˜

### æ„å»ºé”™è¯¯ä¿®å¤

1. **å­—æ®µåä¸åŒ¹é…**ï¼šä¿®å¤äº† `createdAt` â†’ `created_at` ç­‰å­—æ®µåé—®é¢˜
2. **ç±»å‹å®šä¹‰**ï¼šç¡®ä¿ä½¿ç”¨æ•°æ®åº“åŸå§‹å­—æ®µåï¼ˆsnake_caseï¼‰
3. **æ‰€æœ‰ç»„ä»¶**ï¼šç»Ÿä¸€ä½¿ç”¨ snake_case å­—æ®µåè®¿é—®æ•°æ®

---

## ğŸ“ å¾…å®Œæˆçš„åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

### é«˜ä¼˜å…ˆçº§

1. **å›¢é˜Ÿåˆ›å»º/ç¼–è¾‘è¡¨å•ç»„ä»¶**ï¼ˆTeamFormComponentï¼‰
2. **æ’ç­åˆ›å»º/ç¼–è¾‘è¡¨å•ç»„ä»¶**ï¼ˆScheduleFormComponentï¼‰
3. **å›¢é˜Ÿæˆå‘˜æ·»åŠ åŠŸèƒ½**ï¼ˆModal æˆ–ç‹¬ç«‹é¡µé¢ï¼‰

### ä¸­ä¼˜å…ˆçº§

4. **è·¯ç”±å®ˆå«**ï¼ˆæƒé™éªŒè¯ï¼‰
5. **å•å…ƒæµ‹è¯•**ï¼ˆç›®æ ‡è¦†ç›–ç‡ 80%ï¼‰
6. **RLS æƒé™ç­–ç•¥éªŒè¯**

### ä½ä¼˜å…ˆçº§

7. **API æ–‡æ¡£æ›´æ–°**
8. **ç”¨æˆ·æŒ‡å—æ›´æ–°**
9. **æ€§èƒ½ä¼˜åŒ–**ï¼ˆBundle å¤§å°ï¼‰

---

## ğŸ¯ å…³é”®æˆæœ

1. **å®Œæ•´çš„è´¦æˆ·ç³»ç»Ÿ MVP**ï¼šæ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨
2. **æ¶æ„åˆè§„**ï¼šä¸¥æ ¼éµå¾ªåˆ†å±‚æ¶æ„å’Œä»£ç è§„èŒƒ
3. **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ Typed Forms å’Œå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
4. **æ„å»ºé€šè¿‡**ï¼šæ‰€æœ‰ä»£ç é€šè¿‡ç¼–è¯‘å’Œæ„å»ºéªŒè¯
5. **å¯æ‰©å±•æ€§**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å°ˆæ¡ˆè·¯ç·šåœ–](./44-å°ˆæ¡ˆè·¯ç·šåœ–.md) - æ›´æ–°è´¦æˆ·ç³»ç»ŸçŠ¶æ€
- [æ­·å²ç´€éŒ„](./fyi-history.md#2025-01-15-è³¬æˆ¶ç³»çµ±-mvp-å¯¦æ–½å®Œæˆ) - å®æ–½è®°å½•
- [é–‹ç™¼è„ˆçµ¡](./fyi-development.md#2025-01-15-è³¬æˆ¶ç³»çµ±-mvp-å¯¦æ–½) - æŠ€æœ¯å†³ç­–
- Software Planning Tool - å®Œæ•´å®æ–½è®¡åˆ’

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-01-15  
**ç¶­è­·è€…**ï¼šé–‹ç™¼åœ˜éšŠ

