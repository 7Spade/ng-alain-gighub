# ä¼æ¥­ç´šä»»å‹™ç³»çµ±é–‹ç™¼æŒ‡å— - å¿«é€Ÿåƒè€ƒ (Quick Reference)

> ğŸ“‹ **ç›®çš„**ï¼šæä¾›é–‹ç™¼æŒ‡ä»¤ v1.0 çš„å¿«é€ŸæŸ¥é–±ç‰ˆæœ¬ï¼Œé©åˆæ—¥å¸¸é–‹ç™¼æ™‚å¿«é€ŸæŸ¥è©¢

**ç‰ˆæœ¬**ï¼š1.0  
**æœ€å¾Œæ›´æ–°**ï¼š2025-11-16  
**å®Œæ•´ç‰ˆæœ¬**ï¼šè¦‹ issue æˆ–å…§éƒ¨æ–‡æª”  

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ (5 åˆ†é˜ä¸Šæ‰‹)

### ç¬¬ä¸€æ­¥ï¼šé–±è®€æ ¸å¿ƒæ–‡æª”ï¼ˆæŒ‰é †åºï¼‰

1. **æ¶æ§‹è¨­è¨ˆ** â†’ `docs/27-å®Œæ•´æ¶æ§‹æµç¨‹åœ–.mermaid.md` + `docs/28-æ¶æ§‹å¯©æŸ¥å ±å‘Š.md`
2. **è³‡æ–™åº«çµæ§‹** â†’ `docs/30-0-å®Œæ•´SQLè¡¨çµæ§‹å®šç¾©.md`ï¼ˆä»»å‹™ç›¸é—œï¼šç¬¬ 469-703 è¡Œï¼‰
3. **æ¥­å‹™æµç¨‹** â†’ `docs/14-æ¥­å‹™æµç¨‹åœ–.mermaid.md` + `docs/16-ç‹€æ…‹åœ–.mermaid.md`
4. **é–‹ç™¼è¦ç¯„** â†’ `docs/00-é–‹ç™¼ä½œæ¥­æŒ‡å¼•.md` + `docs/45-SHARED_IMPORTS-ä½¿ç”¨æŒ‡å—.md`

### ç¬¬äºŒæ­¥ï¼šç’°å¢ƒæº–å‚™

```bash
# ç¢ºèªç‰ˆæœ¬
node --version    # éœ€è¦ v20.19.5
yarn --version    # éœ€è¦ 4.9.2

# å®‰è£ä¾è³´
yarn install

# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
yarn start        # æˆ– yarn hmr (ç†±æ¨¡çµ„æ›¿æ›)
```

### ç¬¬ä¸‰æ­¥ï¼šé–‹ç™¼æµç¨‹

```bash
# é–‹ç™¼å‰
yarn lint         # ä»£ç¢¼æª¢æŸ¥
yarn type-check   # é¡å‹æª¢æŸ¥

# é–‹ç™¼ä¸­
yarn start        # å•Ÿå‹•æœå‹™å™¨

# æäº¤å‰
yarn lint         # æª¢æŸ¥
yarn build        # æ§‹å»ºæ¸¬è©¦
```

---

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ§‹é€Ÿè¦½

### Git-like åˆ†æ”¯æ¨¡å‹

```
ä¸»åˆ†æ”¯ (blueprints)
  â”œâ”€ æ“æœ‰è€…ï¼šå…¨æ¬Šæ§åˆ¶ä»»å‹™çµæ§‹
  â”œâ”€ Fork â†’ çµ„ç¹”åˆ†æ”¯ (blueprint_branches)
  â”‚   â””â”€ å”ä½œçµ„ç¹”ï¼šåªèƒ½å¡«å¯«æ‰¿æ”¬æ¬„ä½
  â””â”€ Pull Request â†’ å¯©æ ¸ â†’ åˆä½µæ›´æ–°
```

### 51 å¼µè¡¨ï¼Œ11 å€‹æ¨¡çµ„

| æ¨¡çµ„ | è¡¨æ•¸é‡ | é—œéµè¡¨ |
|------|--------|-------|
| ğŸ” å¸³æˆ¶èˆ‡èº«ä»½ | 4 | accounts, teams |
| ğŸ¤ çµ„ç¹”å”ä½œ | 3 | organization_collaborations |
| ğŸ”’ æ¬Šé™ç³»çµ± | 5 | roles, permissions |
| ğŸ¯ è—åœ–/å°ˆæ¡ˆ | 5 | blueprints, blueprint_branches |
| ğŸ“‹ **ä»»å‹™åŸ·è¡Œ** | **9** | **tasks, task_staging** |
| âœ… å“è³ªé©—æ”¶ | 4 | quality_checks, inspections |
| âš ï¸ å•é¡Œè¿½è¹¤ | 4 | issues, issue_sync_logs |
| ğŸ’¬ å”ä½œæºé€š | 6 | comments, notifications |
| ğŸ“Š è³‡æ–™åˆ†æ | 6 | documents, progress_tracking |
| ğŸ¤– æ©Ÿå™¨äººç³»çµ± | 3 | bots, bot_tasks |
| âš™ï¸ ç³»çµ±ç®¡ç† | 2 | settings, feature_flags |

---

## ğŸ“‹ ä»»å‹™ç³»çµ±æ ¸å¿ƒ (9 å¼µè¡¨)

### æ ¸å¿ƒè¡¨

1. **tasks** - ä»»å‹™ä¸»è¡¨ï¼ˆæ¨¹ç‹€çµæ§‹ï¼Œç„¡å±¤ç´šé™åˆ¶ï¼‰
2. **task_assignments** - ä»»å‹™æŒ‡æ´¾ï¼ˆå€‹äºº/åœ˜éšŠ/çµ„ç¹”/æ‰¿æ”¬ï¼‰
3. **task_lists** - ä»»å‹™åˆ—è¡¨ï¼ˆæŒ‰æŒ‡æ´¾å°è±¡åˆ†é¡ï¼‰
4. **task_staging** - æš«å­˜å€ï¼ˆ48 å°æ™‚å¯æ’¤å›ï¼‰â­
5. **daily_reports** - æ–½å·¥æ—¥èªŒï¼ˆè‡ªå‹•åŒæ­¥åˆ°ä¸»åˆ†æ”¯ï¼‰
6. **report_photos** - å ±è¡¨ç…§ç‰‡
7. **task_dependencies** - ä»»å‹™ä¾è³´é—œä¿‚
8. **task_templates** - ä»»å‹™æ¨¡æ¿
9. **weather_cache** - å¤©æ°£å¿«å–

### 8 ç¨®ä»»å‹™ç‹€æ…‹

```
pending â†’ assigned â†’ in_progress â†’ staging â†’ in_qa â†’ in_inspection â†’ completed
  â†“         â†“            â†“           â†“
cancelled â† cancelled â† cancelled â† cancelled
```

**é—œéµç‹€æ…‹**ï¼š
- `staging` - æš«å­˜ä¸­ï¼ˆ48h å¯æ’¤å›ï¼‰â­
- `in_inspection` - é©—æ”¶ä¸­ï¼ˆé€šéå¾Œè²¬ä»»è½‰ç§»ï¼‰â­

### å¾…è¾¦ä¸­å¿ƒ (5 ç¨®ç‹€æ…‹åˆ†é¡)

| ç‹€æ…‹ | è¡¨æƒ… | åç¨± | ä¾†æºè¡¨ |
|------|------|------|-------|
| pending | ğŸŸ¦ | å¾…åŸ·è¡Œ | task_lists |
| staging | ğŸŸ¨ | æš«å­˜ä¸­ | task_staging â­ |
| in_qa | ğŸŸ§ | å“ç®¡ä¸­ | quality_checks |
| in_inspection | ğŸŸ¥ | é©—æ”¶ä¸­ | inspections |
| open/in_progress | âš ï¸ | å•é¡Œè¿½è¹¤ | issues |

---

## ğŸ’» æŠ€è¡“è¦æ±‚é€ŸæŸ¥

### ç‰ˆæœ¬è¦æ±‚

```json
{
  "node": "v20.19.5",
  "yarn": "4.9.2",
  "angular": "^20.3.0",
  "ng-zorro-antd": "^20.3.1",
  "ng-alain": "^20.1.0",
  "supabase": "^2.81.1",
  "typescript": "~5.9.2 (strict mode)"
}
```

### å¿…é ˆä½¿ç”¨çš„ç‰¹æ€§

- âœ… Standalone Components
- âœ… Signals ç‹€æ…‹ç®¡ç†
- âœ… ChangeDetectionStrategy.OnPush
- âœ… Typed Forms
- âœ… ç¾ä»£æ§åˆ¶æµç¨‹ (@if, @for, @switch)

### å¿…é ˆéµå¾ªçš„è¦ç¯„

- âœ… UI å±¤ä½¿ç”¨ `SHARED_IMPORTS`
- âœ… åˆ†å±¤æ¶æ§‹ï¼š`routes â†’ shared â†’ core`
- âœ… ç¦æ­¢ä½¿ç”¨ `any` é¡å‹
- âœ… æ‰€æœ‰çµ„ä»¶ä½¿ç”¨ `OnPush`

---

## ğŸ› ï¸ AI è¼”åŠ©å·¥å…·

| å·¥å…· | ç”¨é€” | ä½•æ™‚ä½¿ç”¨ |
|------|------|---------|
| @C7 | Context7<br/>ç²å– Angular 20 æœ€æ–°è³‡è¨Š | æŠ€è¡“æ±ºç­–å‰ã€æŸ¥è©¢æœ€ä½³å¯¦è¸ |
| @S7 | Sequential Thinking<br/>è¤‡é›œå•é¡Œåˆ†æ | è¤‡é›œä»»å‹™åˆ†æã€æ¶æ§‹è¨­è¨ˆ |
| @SPT | Software Planning Tool<br/>ä»»å‹™è¦åŠƒè¿½è¹¤ | Level 3+ ä»»å‹™è¦åŠƒ |
| @SUPABASE | Supabase MCP<br/>è³‡æ–™åº«æ“ä½œ | æ‰€æœ‰è³‡æ–™åº«æ“ä½œ |
| @SC7/@SSC7 | çµ„åˆå·¥å…·<br/>è·¨æ¨¡çµ„åˆ†æ | è·¨æ¨¡çµ„é‡æ§‹ã€ä¾è³´åˆ†æ |

### ä½¿ç”¨è¦å‰‡

- **Level 1-2 ä»»å‹™**ï¼šç›´æ¥é–‹ç™¼
- **Level 3+ ä»»å‹™**ï¼šå¿…é ˆä½¿ç”¨ @S7 + @SPT è¦åŠƒ
- **è·¨æ¨¡çµ„è®Šæ›´**ï¼šä½¿ç”¨ @SC7 æˆ– @SSC7 åˆ†æ
- **è³‡æ–™åº«æ“ä½œ**ï¼šå¿…é ˆé€é @SUPABASE MCP

---

## âœ… æäº¤å‰é©—è­‰æ¸…å–®

### å¿…é ˆé€šéï¼ˆæŒ‰é †åºåŸ·è¡Œï¼‰

```bash
# 1. ä»£ç¢¼æª¢æŸ¥
yarn lint

# 2. é¡å‹æª¢æŸ¥
npx tsc --noEmit

# 3. å–®å…ƒæ¸¬è©¦
yarn test

# 4. æ§‹å»º
yarn build

# 5. ç€è¦½å™¨æª¢æŸ¥
# å•Ÿå‹•æ‡‰ç”¨ï¼Œæª¢æŸ¥ Console ç„¡éŒ¯èª¤
yarn start
```

### é—œéµæª¢æŸ¥é»

- [ ] ä½¿ç”¨ `SHARED_IMPORTS`ï¼ˆUI å±¤ï¼‰
- [ ] éµå¾ªåˆ†å±¤æ¶æ§‹ï¼ˆroutes â†’ shared â†’ coreï¼‰
- [ ] ä½¿ç”¨ Signals ç®¡ç†ç‹€æ…‹
- [ ] ä½¿ç”¨ OnPush è®Šæ›´æª¢æ¸¬ç­–ç•¥
- [ ] ç„¡ TypeScript é¡å‹éŒ¯èª¤
- [ ] ç„¡ ESLint éŒ¯èª¤ï¼ˆè­¦å‘Šå¯æ¥å—ï¼‰

---

## ğŸ” èªè­‰ç³»çµ±æ¶æ§‹

### èªè­‰æµç¨‹ï¼ˆå·²å¯¦ç¾ï¼‰âœ…

```
1. Supabase Auth ç™»å…¥/è¨»å†Š
   â†“
2. SupabaseSessionAdapter è½‰æ› Session â†’ Token
   â†“
3. åŒæ­¥è‡³ @delon/auth TokenService
   â†“
4. è¼‰å…¥ accounts è¡¨ç”¨æˆ¶è³‡æ–™
   â†“
5. æ›´æ–° AuthStateService ç‹€æ…‹
```

### å¯¦ç¾ä½ç½®

- `src/app/shared/services/auth/auth.service.ts`
- `src/app/shared/services/auth/auth.state.ts`
- `src/app/core/supabase/supabase-session-adapter.service.ts`
- `src/app/core/infra/repositories/account.repository.ts`

---

## ğŸš« ç¦æ­¢äº‹é …

### çµ•å°ç¦æ­¢

1. âŒ ä½¿ç”¨ `any` é¡å‹ï¼ˆä½¿ç”¨ `unknown` æˆ–æ˜ç¢ºé¡å‹ï¼‰
2. âŒ ç¹é PR æ©Ÿåˆ¶ç›´æ¥æ›´æ–°ä¸»åˆ†æ”¯æ•¸æ“š
3. âŒ å”ä½œçµ„ç¹”ä¿®æ”¹ä»»å‹™çµæ§‹ï¼ˆåªèƒ½å¡«å¯«æ‰¿æ”¬æ¬„ä½ï¼‰
4. âŒ ä½¿ç”¨ workaround æˆ–è‡¨æ™‚è§£æ±ºæ–¹æ¡ˆ
5. âŒ è·³éé©—è­‰æ¸…å–®ç›´æ¥æäº¤

### æ¶æ§‹é™åˆ¶

- shared æ¨¡çµ„**ä¸å¯**ä¾è³´ routesã€layoutã€core
- routes æ¨¡çµ„**åªèƒ½**ä¾è³´ sharedã€coreã€layout
- core æ¨¡çµ„**ä¸å¯**ä¾è³´ä»»ä½•æ‡‰ç”¨å±¤æ¨¡çµ„

---

## ğŸ“Š å¸¸ç”¨æŒ‡ä»¤é€ŸæŸ¥

### é–‹ç™¼

```bash
yarn start              # å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
yarn hmr                # ç†±æ¨¡çµ„æ›¿æ›æ¨¡å¼
```

### æª¢æŸ¥

```bash
yarn lint               # ä»£ç¢¼æª¢æŸ¥ï¼ˆESLint + Stylelintï¼‰
yarn lint --fix         # è‡ªå‹•ä¿®å¾©ä»£ç¢¼é¢¨æ ¼
yarn type-check         # TypeScript é¡å‹æª¢æŸ¥
yarn test               # é‹è¡Œå–®å…ƒæ¸¬è©¦
yarn test-coverage      # é‹è¡Œæ¸¬è©¦ä¸¦ç”Ÿæˆè¦†è“‹ç‡å ±å‘Š
yarn build              # æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
```

### ä¿®å¾©

```bash
yarn lint --fix                                    # è‡ªå‹•ä¿®å¾© lint å•é¡Œ
npx prettier --write "src/**/*.{ts,html,less}"    # æ ¼å¼åŒ–ä»£ç¢¼
```

---

## ğŸ“ é‡è¦æª”æ¡ˆä½ç½®

### æ ¸å¿ƒé…ç½®

- `package.json` - ä¾è³´å’Œè…³æœ¬
- `angular.json` - Angular é…ç½®
- `tsconfig.json` - TypeScript é…ç½®
- `.eslintrc.js` - ESLint è¦å‰‡
- `ng-alain.json` - NG-ALAIN é…ç½®

### æ ¸å¿ƒç¨‹å¼ç¢¼

- `src/app/core/` - æ ¸å¿ƒæœå‹™ã€Repositoryã€é¡å‹å®šç¾©
- `src/app/shared/` - å…±äº«çµ„ä»¶ã€æ¨¡å‹ã€å·¥å…·
- `src/app/routes/` - åŠŸèƒ½æ¨¡çµ„ï¼ˆtasks, issues, blueprints ç­‰ï¼‰
- `src/app/layout/` - ä½ˆå±€çµ„ä»¶

### é—œéµæ¨¡å‹

- `src/app/shared/models/task/types.ts` - ä»»å‹™ç›¸é—œé¡å‹
- `src/app/core/infra/types/task.types.ts` - ä»»å‹™æšèˆ‰ï¼ˆTaskStatusï¼‰
- `src/app/core/infra/types/database.types.ts` - Supabase è³‡æ–™åº«é¡å‹

---

## ğŸ¯ é–‹ç™¼å·¥ä½œæµç¨‹

### æ¨™æº–æµç¨‹

```
1. @S7 é€²è¡Œä»»å‹™åˆ†æ
   â†“
2. @SPT é€²è¡Œä»»å‹™æ‹†è§£èˆ‡å„ªå…ˆç´šæ’åº
   â†“
3. åˆ†è§£å­ä»»å‹™ï¼Œè¨­ç½®å„ªå…ˆç´šèˆ‡é ä¼°æ™‚é–“
   â†“
4. ä¾åºåŸ·è¡Œå­ä»»å‹™
   â†“
5. å®Œæˆå¾ŒåŸ·è¡Œæ§‹å»º (yarn build)
   â†“
6. è¨˜éŒ„ä¸¦ä¿®å¾©éŒ¯èª¤
   â†“
7. åŸ·è¡Œé©—è­‰æ¸…å–®
   â†“
8. æäº¤ä»£ç¢¼
```

### éŒ¯èª¤è™•ç†æµç¨‹

```
1. åŸ·è¡Œ yarn build
   â†“
2. è¨˜éŒ„éŒ¯èª¤è³‡è¨Š
   â†“
3. æ ¹æ“šéŒ¯èª¤é¡å‹ï¼š
   - é¡å‹éŒ¯èª¤ â†’ yarn type-check
   - ä»£ç¢¼é¢¨æ ¼ â†’ yarn lint --fix
   - æ¨£å¼éŒ¯èª¤ â†’ yarn lint:style
   - æ§‹å»ºéŒ¯èª¤ â†’ æª¢æŸ¥ angular.json
   â†“
4. é‡æ–°æ§‹å»ºé©—è­‰
```

---

## ğŸ”— å¿«é€Ÿé€£çµ

### å¿…è®€æ–‡æª”ï¼ˆä¾åºé–±è®€ï¼‰

1. [å®Œæ•´æ¶æ§‹æµç¨‹åœ–](./27-å®Œæ•´æ¶æ§‹æµç¨‹åœ–.mermaid.md) â­
2. [æ¶æ§‹å¯©æŸ¥å ±å‘Š](./28-æ¶æ§‹å¯©æŸ¥å ±å‘Š.md) â­
3. [å®Œæ•´SQLè¡¨çµæ§‹å®šç¾©](./30-0-å®Œæ•´SQLè¡¨çµæ§‹å®šç¾©.md) â­
4. [æ¥­å‹™æµç¨‹åœ–](./14-æ¥­å‹™æµç¨‹åœ–.mermaid.md)
5. [ç‹€æ…‹åœ–](./16-ç‹€æ…‹åœ–.mermaid.md)
6. [ç‹€æ…‹æšèˆ‰å€¼å®šç¾©](./43-ç‹€æ…‹æšèˆ‰å€¼å®šç¾©.md)

### é–‹ç™¼åƒè€ƒ

- [é–‹ç™¼ä½œæ¥­æŒ‡å¼•](./00-é–‹ç™¼ä½œæ¥­æŒ‡å¼•.md)
- [SHARED_IMPORTSä½¿ç”¨æŒ‡å—](./45-SHARED_IMPORTS-ä½¿ç”¨æŒ‡å—.md)
- [é–‹ç™¼å·¥ä½œæµç¨‹](./35-é–‹ç™¼å·¥ä½œæµç¨‹.md)
- [æ¸¬è©¦æŒ‡å—](./38-æ¸¬è©¦æŒ‡å—.md)

### ç›¸é—œç³»çµ±

- [å¸³æˆ¶å±¤æµç¨‹åœ–](./13-å¸³æˆ¶å±¤æµç¨‹åœ–.mermaid.md)
- [å®‰å…¨èˆ‡RLSæ¬Šé™çŸ©é™£](./21-å®‰å…¨èˆ‡-RLS-æ¬Šé™çŸ©é™£.md)
- [APIæ¥å£è©³ç´°æ–‡æª”](./33-API-æ¥å£è©³ç´°æ–‡æª”.md)

---

## ğŸ’¡ æœ€ä½³å¯¦è¸æç¤º

### DO âœ…

- ä½¿ç”¨ @C7 æŸ¥è©¢ Angular 20 æœ€æ–°ç‰¹æ€§
- Level 3+ ä»»å‹™ä½¿ç”¨ @S7 + @SPT è¦åŠƒ
- æ‰€æœ‰è³‡æ–™åº«æ“ä½œé€é @SUPABASE MCP
- UI å±¤ä½¿ç”¨ SHARED_IMPORTS
- ä½¿ç”¨ Signals ç®¡ç†ç‹€æ…‹
- æ‰€æœ‰çµ„ä»¶ä½¿ç”¨ OnPush

### DON'T âŒ

- ä¸è¦ä½¿ç”¨ `any` é¡å‹
- ä¸è¦è·³éé©—è­‰æ¸…å–®
- ä¸è¦ä¿®æ”¹ä¸ç›¸é—œçš„ä»£ç¢¼
- ä¸è¦ç¹é PR æ©Ÿåˆ¶
- ä¸è¦åœ¨ shared ä¸­ä¾è³´ routes

---

## ğŸ“ é‡åˆ°å•é¡Œï¼Ÿ

### é–‹ç™¼å•é¡Œ

1. å…ˆæŸ¥é–± [å¸¸è¦‹å•é¡Œ FAQ](./36-å¸¸è¦‹å•é¡Œ-FAQ.md)
2. æª¢æŸ¥ [éŒ¯èª¤è™•ç†æŒ‡å—](./37-éŒ¯èª¤è™•ç†æŒ‡å—.md)
3. æŸ¥çœ‹ç›¸é—œæ¨¡çµ„æ–‡æª”

### æ¶æ§‹å•é¡Œ

1. å›é¡§ [å®Œæ•´æ¶æ§‹æµç¨‹åœ–](./27-å®Œæ•´æ¶æ§‹æµç¨‹åœ–.mermaid.md)
2. æŸ¥é–± [æ¶æ§‹å¯©æŸ¥å ±å‘Š](./28-æ¶æ§‹å¯©æŸ¥å ±å‘Š.md)
3. ä½¿ç”¨ @S7 é€²è¡Œå•é¡Œåˆ†æ

### æŠ€è¡“å•é¡Œ

1. ä½¿ç”¨ @C7 æŸ¥è©¢ Angular 20 è³‡è¨Š
2. æŸ¥é–±å®˜æ–¹æ–‡æª”
3. æª¢æŸ¥é¡å‹å®šç¾©å’Œç¯„ä¾‹ç¨‹å¼ç¢¼

---

**å¿«é€Ÿåƒè€ƒçµæŸ** - å®Œæ•´ç‰ˆæœ¬è«‹åƒè€ƒåŸå§‹é–‹ç™¼æŒ‡ä»¤æˆ–ç›¸é—œæ–‡æª” ğŸ“š

**å»ºè­°**ï¼šå°‡æœ¬æ–‡æª”åŠ å…¥æ›¸ç±¤ï¼Œé–‹ç™¼æ™‚éš¨æ™‚æŸ¥é–±ï¼
