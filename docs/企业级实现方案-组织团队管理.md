# ä¼ä¸šçº§å®ç°æ–¹æ¡ˆ - ç»„ç»‡å›¢é˜Ÿç®¡ç†

> **ç›®çš„**ï¼šå®ç° `/org/:id/teams` åŠŸèƒ½ï¼Œç¬¦åˆä¼ä¸šçº§æ ‡å‡†å’Œ SRP åŸåˆ™

## ğŸ“‹ éœ€æ±‚åˆ†æ

### åŠŸèƒ½éœ€æ±‚
- `/org/:id/teams` - ç»„ç»‡ä¸‹çš„å›¢é˜Ÿåˆ—è¡¨
- åœ¨ç»„ç»‡ä¸Šä¸‹æ–‡ä¸‹åˆ›å»ºå›¢é˜Ÿ
- åœ¨ç»„ç»‡ä¸Šä¸‹æ–‡ä¸‹ç®¡ç†å›¢é˜Ÿï¼ˆç¼–è¾‘ã€åˆ é™¤ï¼‰
- ç‚¹å‡»å›¢é˜Ÿè¿›å…¥å›¢é˜Ÿæˆå‘˜ç®¡ç†

### ä¼ä¸šçº§æ ‡å‡†è¦æ±‚
1. **SRP åŸåˆ™**ï¼šComponent åªå¤„ç† UIï¼ŒService åªå¤„ç†é€»è¾‘ï¼ŒRepository åªå¤„ç†æ•°æ®è®¿é—®
2. **åˆ†å±‚æ¶æ„**ï¼šroutes â†’ shared â†’ core
3. **å¯å¤ç”¨æ€§**ï¼šå¤ç”¨ç°æœ‰ç»„ä»¶å’ŒæœåŠ¡
4. **ä¸€è‡´æ€§**ï¼šä¸ç°æœ‰ä»£ç é£æ ¼ä¿æŒä¸€è‡´
5. **ä½è€¦åˆé«˜å†…èš**ï¼šç»„ä»¶ä¹‹é—´å¼±ä¾èµ–

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Layer (routes/org/teams/)    â”‚
â”‚  - OrgTeamsComponent                    â”‚
â”‚  èŒè´£ï¼šåªå¤„ç† UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ è°ƒç”¨
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Service Layer (shared/services/)       â”‚
â”‚  - TeamService                          â”‚
â”‚  èŒè´£ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ è°ƒç”¨
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository Layer (core/infra/)         â”‚
â”‚  - TeamRepository                       â”‚
â”‚  èŒè´£ï¼šåªå¤„ç†æ•°æ®è®¿é—®ï¼ˆSupabaseï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### èŒè´£åˆ’åˆ†ï¼ˆSRPï¼‰

#### Component å±‚ï¼ˆOrgTeamsComponentï¼‰
- âœ… **åªå¤„ç† UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’**
  - æ˜¾ç¤ºå›¢é˜Ÿåˆ—è¡¨
  - åˆ›å»ºå›¢é˜ŸæŒ‰é’®
  - å›¢é˜Ÿæ“ä½œï¼ˆæŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤ã€æˆå‘˜ç®¡ç†ï¼‰
- âœ… **è°ƒç”¨ Service è·å–æ•°æ®**
  - ä½¿ç”¨ `TeamService.teams()` è·å–å›¢é˜Ÿåˆ—è¡¨
  - ä½¿ç”¨ `TeamService.loadTeamsByOrganizationId()` åŠ è½½æ•°æ®
- âŒ **ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘**
- âŒ **ä¸ç›´æ¥è®¿é—® Repository**

#### Service å±‚ï¼ˆTeamServiceï¼‰
- âœ… **å¤„ç†ä¸šåŠ¡é€»è¾‘**
  - éªŒè¯æ•°æ®
  - çŠ¶æ€ç®¡ç†ï¼ˆä½¿ç”¨ Signalsï¼‰
- âœ… **è°ƒç”¨ Repository è·å–æ•°æ®**
  - è°ƒç”¨ `TeamRepository.findByOrganizationId()`
- âœ… **ä½¿ç”¨ Signals ç®¡ç†çŠ¶æ€**
  - `teams()` - å›¢é˜Ÿåˆ—è¡¨
  - `loading()` - åŠ è½½çŠ¶æ€
  - `error()` - é”™è¯¯çŠ¶æ€
- âŒ **ä¸å¤„ç† UI é€»è¾‘**
- âŒ **ä¸ç›´æ¥æ“ä½œ DOM**

#### Repository å±‚ï¼ˆTeamRepositoryï¼‰
- âœ… **åªå¤„ç†æ•°æ®è®¿é—®**
  - Supabase æŸ¥è¯¢
  - æ•°æ®è½¬æ¢ï¼ˆsnake_case â†’ camelCaseï¼‰
- âŒ **ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘**
- âŒ **ä¸å¤„ç† UI**

---

## ğŸ“ æ–‡ä»¶ç»“æ„

### æ–°å»ºæ–‡ä»¶

```
routes/org/teams/
  â””â”€â”€ teams.component.ts          # å›¢é˜Ÿåˆ—è¡¨ç»„ä»¶ï¼ˆæ–°å»ºï¼‰
```

### å¤ç”¨æ–‡ä»¶

```
routes/accounts/teams/
  â”œâ”€â”€ team-create/
  â”‚   â””â”€â”€ team-create.component.ts    # åˆ›å»ºå›¢é˜Ÿï¼ˆå¤ç”¨ï¼Œæ”¯æŒ Modal æ¨¡å¼ï¼‰
  â”œâ”€â”€ team-edit/
  â”‚   â””â”€â”€ team-edit.component.ts      # ç¼–è¾‘å›¢é˜Ÿï¼ˆå½“å‰åªæ”¯æŒè·¯ç”±æ¨¡å¼ï¼Œéœ€è¦æ‰©å±•æ”¯æŒ Modalï¼‰
  â””â”€â”€ team-delete/
      â””â”€â”€ team-delete.component.ts    # åˆ é™¤å›¢é˜Ÿï¼ˆå¤ç”¨ï¼Œæ”¯æŒ Modal æ¨¡å¼ï¼‰
```

**æ³¨æ„ï¼š**
- `TeamCreateComponent` å·²æ”¯æŒ Modal æ¨¡å¼ï¼ˆæœ‰ `isModalMode()` æ–¹æ³•ï¼‰
- `TeamDeleteComponent` å·²æ”¯æŒ Modal æ¨¡å¼ï¼ˆä½¿ç”¨ `NZ_MODAL_DATA`ï¼‰
- `TeamEditComponent` **å½“å‰åªæ”¯æŒè·¯ç”±æ¨¡å¼**ï¼Œéœ€è¦æ‰©å±•æ”¯æŒ Modal æ¨¡å¼ï¼Œæˆ–è€…è·³è½¬åˆ°ç¼–è¾‘é¡µé¢

shared/services/account/
  â””â”€â”€ team.service.ts                  # å›¢é˜ŸæœåŠ¡ï¼ˆå·²æœ‰ï¼Œæ— éœ€ä¿®æ”¹ï¼‰

core/infra/repositories/
  â””â”€â”€ team.repository.ts               # å›¢é˜Ÿä»“åº“ï¼ˆå·²æœ‰ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
```

---

## ğŸ¯ å®ç°è®¾è®¡

### 1. OrgTeamsComponent è®¾è®¡

**èŒè´£ï¼š**
- æ˜¾ç¤ºç»„ç»‡ä¸‹çš„å›¢é˜Ÿåˆ—è¡¨
- æä¾›åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€æˆå‘˜ç®¡ç†æ“ä½œ
- åªå¤„ç† UIï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

**å…³é”®è®¾è®¡ï¼š**
```typescript
@Component({
  selector: 'app-org-teams',
  standalone: true,
  imports: [SHARED_IMPORTS],
  template: `
    <page-header [title]="'åœ˜éšŠç®¡ç†'" />
    <nz-card [nzBordered]="false">
      <!-- åˆ›å»ºå›¢é˜ŸæŒ‰é’® -->
      <div class="flex justify-between mb-md">
        <div>
          <h2>åœ˜éšŠ</h2>
          <p class="text-muted">ç®¡ç†çµ„ç¹”å…§çš„åœ˜éšŠ</p>
        </div>
        <button nz-button nzType="primary" (click)="createTeam()">
          <span nz-icon nzType="plus"></span>
          å»ºç«‹åœ˜éšŠ
        </button>
      </div>

      <!-- å›¢é˜Ÿåˆ—è¡¨ -->
      @if (teamService.loading()) {
        <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
      } @else if (teamService.error()) {
        <nz-alert nzType="error" [nzMessage]="'è¼‰å…¥å¤±æ•—'" />
      } @else if (teamService.teams().length === 0) {
        <nz-empty nzNotFoundContent="å°šç„¡åœ˜éšŠ">
          <button nz-button nzType="primary" (click)="createTeam()">
            å»ºç«‹ç¬¬ä¸€å€‹åœ˜éšŠ
          </button>
        </nz-empty>
      } @else {
        <st
          [columns]="columns"
          [data]="teamService.teams()"
          [loading]="teamService.loading()"
          [page]="{ front: false, show: true, showSize: true }"
        >
          <!-- æ“ä½œåˆ— -->
          <ng-template st-row="action" let-record>
            <button nz-button nzType="link" (click)="manageMembers(record.id)">
              æˆå“¡ç®¡ç†
            </button>
            <button nz-button nzType="link" (click)="editTeam(record)">
              ç·¨è¼¯
            </button>
            <button nz-button nzType="link" nzDanger (click)="deleteTeam(record)">
              åˆªé™¤
            </button>
          </ng-template>
        </st>
      }
    </nz-card>
  `,
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class OrgTeamsComponent implements OnInit {
  private readonly route = inject(ActivatedRoute);
  private readonly router = inject(Router);
  private readonly message = inject(NzMessageService);
  private readonly modal = inject(NzModalService);
  private readonly accountService = inject(AccountService);
  readonly teamService = inject(TeamService);

  readonly organizationId = signal<string | null>(null);

  columns: STColumn[] = [
    { title: 'åœ˜éšŠåç¨±', index: 'name', width: 200 },
    { title: 'æè¿°', index: 'description', width: 300 },
    { title: 'å‰µå»ºæ™‚é–“', index: 'created_at', type: 'date', width: 180 },
    { title: 'æ“ä½œ', render: 'action', width: 300 }
  ];

  async ngOnInit(): Promise<void> {
    const orgId = this.route.snapshot.paramMap.get('id');
    if (!orgId) {
      this.message.error('ç¼ºå°‘çµ„ç¹” ID');
      this.router.navigate(['/accounts/organizations']);
      return;
    }

    this.organizationId.set(orgId);
    await this.loadTeams();
  }

  async loadTeams(): Promise<void> {
    const orgId = this.organizationId();
    if (!orgId) return;

    try {
      await this.teamService.loadTeamsByOrganizationId(orgId);
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : 'è¼‰å…¥åœ˜éšŠåˆ—è¡¨å¤±æ•—';
      this.message.error(errorMessage);
    }
  }

  createTeam(): void {
    const orgId = this.organizationId();
    if (!orgId) {
      this.message.warning('ç¼ºå°‘çµ„ç¹” ID');
      return;
    }

    // å¤ç”¨ TeamCreateComponentï¼Œä¼ å…¥ organizationId
    const modalRef = this.modal.create({
      nzTitle: 'å»ºç«‹åœ˜éšŠ',
      nzContent: TeamCreateComponent,
      nzData: { organizationId: orgId },
      nzWidth: 800,
      nzFooter: null
    });

    modalRef.afterClose.subscribe(result => {
      if (result) {
        this.loadTeams();
      }
    });
  }

  editTeam(team: Team): void {
    // æ–¹æ¡ˆä¸€ï¼šè·³è½¬åˆ°ç¼–è¾‘é¡µé¢ï¼ˆå½“å‰ TeamEditComponent åªæ”¯æŒè·¯ç”±æ¨¡å¼ï¼‰
    this.router.navigate(['/accounts/teams', team.id, 'edit']);

    // æ–¹æ¡ˆäºŒï¼šå¦‚æœ TeamEditComponent æ”¯æŒ Modal æ¨¡å¼ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š
    // const modalRef = this.modal.create({
    //   nzTitle: 'ç·¨è¼¯åœ˜éšŠ',
    //   nzContent: TeamEditComponent,
    //   nzData: { team },
    //   nzWidth: 800,
    //   nzFooter: null
    // });
    // modalRef.afterClose.subscribe(result => {
    //   if (result) {
    //     this.loadTeams();
    //   }
    // });
  }

  deleteTeam(team: Team): void {
    // å¤ç”¨ TeamDeleteComponent
    const modalRef = this.modal.create({
      nzTitle: 'åˆªé™¤åœ˜éšŠ',
      nzContent: TeamDeleteComponent,
      nzData: { teamId: team.id, teamName: team.name },
      nzWidth: 500,
      nzFooter: null
    });

    modalRef.afterClose.subscribe(result => {
      if (result) {
        this.loadTeams();
      }
    });
  }

  manageMembers(teamId: string): void {
    // è·³è½¬åˆ°å›¢é˜Ÿæˆå‘˜ç®¡ç†
    this.router.navigate(['/org/teams', teamId, 'members']);
  }
}
```

### 2. è·¯ç”±é…ç½®

**æ›´æ–° `routes/org/routes.ts`ï¼š**

```typescript
export const routes: Routes = [
  {
    path: ':id/members',
    component: OrgMembersComponent,
    data: { title: 'æˆå“¡ç®¡ç†', titleI18n: 'menu.org.members' }
  },
  {
    path: ':id/teams',
    component: OrgTeamsComponent,
    data: { title: 'åœ˜éšŠç®¡ç†', titleI18n: 'menu.org.teams' }
  },
  {
    path: 'teams/:id/members',
    component: OrgTeamMembersComponent,
    data: { title: 'åœ˜éšŠæˆå“¡ç®¡ç†', titleI18n: 'menu.org.team.members' }
  }
];
```

### 3. èœå•é…ç½®

**æ›´æ–° `organization-data.json`ï¼š**

```json
{
  "text": "Organization Members",
  "link": "/org/:id/members",
  "i18n": "menu.development.account.organizationMembers"
},
{
  "text": "Team Management",
  "link": "/org/:id/teams",
  "i18n": "menu.development.account.organizationTeams"
}
```

---

## âœ… ç¬¦åˆä¼ä¸šçº§æ ‡å‡†æ£€æŸ¥

### SRP åŸåˆ™ âœ…

- **Component**ï¼šåªå¤„ç† UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’
- **Service**ï¼šåªå¤„ç†ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
- **Repository**ï¼šåªå¤„ç†æ•°æ®è®¿é—®

### åˆ†å±‚æ¶æ„ âœ…

- **routes** â†’ **shared** â†’ **core**
- ä¾èµ–æ–¹å‘æ­£ç¡®ï¼Œæ— åå‘ä¾èµ–

### å¯å¤ç”¨æ€§ âœ…

- å¤ç”¨ `TeamService`ï¼ˆå·²æœ‰ï¼‰
- å¤ç”¨ `TeamRepository`ï¼ˆå·²æœ‰ï¼‰
- å¤ç”¨ `TeamCreateComponent`ã€`TeamEditComponent`ã€`TeamDeleteComponent`

### ä¸€è‡´æ€§ âœ…

- ä¸ `OrgMembersComponent` è®¾è®¡é£æ ¼ä¸€è‡´
- ä½¿ç”¨ç›¸åŒçš„ UI ç»„ä»¶ï¼ˆSHARED_IMPORTSï¼‰
- ä½¿ç”¨ç›¸åŒçš„é”™è¯¯å¤„ç†æ–¹å¼

### ä½è€¦åˆé«˜å†…èš âœ…

- Component åªä¾èµ– Serviceï¼Œä¸ä¾èµ– Repository
- Service åªä¾èµ– Repositoryï¼Œä¸ä¾èµ– Component
- ç»„ä»¶ä¹‹é—´é€šè¿‡ Service é€šä¿¡ï¼Œä¸ç›´æ¥ä¾èµ–

---

## ğŸš€ å®æ–½æ­¥éª¤

### æ­¥éª¤ 1ï¼šåˆ›å»º OrgTeamsComponent

1. åˆ›å»º `routes/org/teams/teams.component.ts`
2. å®ç°å›¢é˜Ÿåˆ—è¡¨æ˜¾ç¤º
3. å®ç°åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€æˆå‘˜ç®¡ç†æ“ä½œ
4. ä½¿ç”¨ TeamService è·å–æ•°æ®

### æ­¥éª¤ 2ï¼šæ›´æ–°è·¯ç”±é…ç½®

1. åœ¨ `routes/org/routes.ts` æ·»åŠ  `:id/teams` è·¯ç”±
2. ç¡®ä¿è·¯ç”±é¡ºåºæ­£ç¡®ï¼ˆå…·ä½“è·¯å¾„åœ¨åŠ¨æ€è·¯å¾„ä¹‹å‰ï¼‰

### æ­¥éª¤ 3ï¼šæ›´æ–°èœå•é…ç½®

1. åœ¨ `organization-data.json` æ·»åŠ "å›¢é˜Ÿç®¡ç†"èœå•é¡¹
2. ä½¿ç”¨åŠ¨æ€ ID æ›¿æ¢ï¼ˆ`:id`ï¼‰

### æ­¥éª¤ 4ï¼šéªŒè¯

1. ç±»å‹æ£€æŸ¥ï¼š`yarn type-check`
2. ä»£ç æ£€æŸ¥ï¼š`yarn lint`
3. åŠŸèƒ½æµ‹è¯•ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨æµ‹è¯•

---

## ğŸ“ å…³é”®è®¾è®¡å†³ç­–

### 0. TeamEditComponent Modal æ¨¡å¼æ”¯æŒ

**å½“å‰çŠ¶æ€ï¼š**
- `TeamEditComponent` åªæ”¯æŒè·¯ç”±æ¨¡å¼ï¼ˆé€šè¿‡ `ActivatedRoute` è·å– teamIdï¼‰
- ä¸æ”¯æŒ Modal æ¨¡å¼

**è§£å†³æ–¹æ¡ˆï¼š**

**æ–¹æ¡ˆä¸€ï¼šæ‰©å±• TeamEditComponent æ”¯æŒ Modal æ¨¡å¼ï¼ˆæ¨èï¼‰**
- æ·»åŠ  `NZ_MODAL_DATA` å’Œ `NzModalRef` æ³¨å…¥ï¼ˆå¯é€‰ï¼‰
- æ·»åŠ  `isModalMode()` æ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸º Modal æ¨¡å¼
- Modal æ¨¡å¼ä¸‹ï¼Œä» `NZ_MODAL_DATA` è·å– team æ•°æ®
- è·¯ç”±æ¨¡å¼ä¸‹ï¼Œä» `ActivatedRoute` è·å– teamId
- å‚è€ƒ `TeamCreateComponent` çš„å®ç°æ–¹å¼

**æ–¹æ¡ˆäºŒï¼šè·³è½¬åˆ°ç¼–è¾‘é¡µé¢ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰**
- åœ¨ `OrgTeamsComponent` ä¸­ï¼Œç¼–è¾‘æ“ä½œè·³è½¬åˆ° `/accounts/teams/:id/edit`
- ç¼–è¾‘å®Œæˆåï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨è¿”å›å›¢é˜Ÿåˆ—è¡¨
- ç”¨æˆ·ä½“éªŒç¨å·®ï¼Œä½†å®ç°ç®€å•

**å»ºè®®ï¼š** é‡‡ç”¨æ–¹æ¡ˆä¸€ï¼Œæ‰©å±• `TeamEditComponent` æ”¯æŒ Modal æ¨¡å¼ï¼Œä¿æŒä¸€è‡´æ€§ã€‚

### 1. å¤ç”¨ vs æ–°å»º

**å†³ç­–ï¼šå¤ç”¨ç°æœ‰ç»„ä»¶å’ŒæœåŠ¡**

- âœ… å¤ç”¨ `TeamService` å’Œ `TeamRepository`ï¼ˆå·²æœ‰ï¼Œç¬¦åˆ SRPï¼‰
- âœ… å¤ç”¨ `TeamCreateComponent`ã€`TeamEditComponent`ã€`TeamDeleteComponent`ï¼ˆé¿å…é‡å¤ä»£ç ï¼‰
- âœ… æ–°å»º `OrgTeamsComponent`ï¼ˆç»„ç»‡ä¸Šä¸‹æ–‡ä¸‹çš„å›¢é˜Ÿåˆ—è¡¨ï¼ŒèŒè´£ä¸åŒï¼‰

**ç†ç”±ï¼š**
- ç¬¦åˆ DRY åŸåˆ™ï¼ˆDon't Repeat Yourselfï¼‰
- ä¿æŒä»£ç ä¸€è‡´æ€§
- å‡å°‘ç»´æŠ¤æˆæœ¬

### 2. çŠ¶æ€ç®¡ç†

**å†³ç­–ï¼šä½¿ç”¨ TeamService çš„ Signals**

- Component åªè¯»å–çŠ¶æ€ï¼Œä¸ç®¡ç†çŠ¶æ€
- Service ç®¡ç†çŠ¶æ€ï¼ŒComponent è®¢é˜…çŠ¶æ€å˜åŒ–

**ç†ç”±ï¼š**
- ç¬¦åˆ SRP åŸåˆ™
- çŠ¶æ€é›†ä¸­ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤
- ç¬¦åˆ Angular 20 æœ€ä½³å®è·µ

### 3. é”™è¯¯å¤„ç†

**å†³ç­–ï¼šService å±‚æŠ›å‡ºé”™è¯¯ï¼ŒComponent å±‚æ˜¾ç¤ºé”™è¯¯**

- Service å±‚ï¼šæŠ›å‡ºé”™è¯¯ï¼Œè®¾ç½® error state
- Component å±‚ï¼šæ•è·é”™è¯¯ï¼Œä½¿ç”¨ NzMessageService æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯

**ç†ç”±ï¼š**
- ç¬¦åˆèŒè´£åˆ†ç¦»
- é”™è¯¯å¤„ç†ç»Ÿä¸€
- ç”¨æˆ·ä½“éªŒå‹å¥½

---

## ğŸ¯ å®æ–½æ£€æŸ¥æ¸…å•

### ä»£ç è´¨é‡ âœ…

- [ ] ç¬¦åˆ SRP åŸåˆ™
- [ ] ç¬¦åˆåˆ†å±‚æ¶æ„
- [ ] ç±»å‹å®‰å…¨ï¼ˆæ—  any ç±»å‹ï¼‰
- [ ] é€šè¿‡ ESLint æ£€æŸ¥
- [ ] é€šè¿‡ç±»å‹æ£€æŸ¥

### åŠŸèƒ½å®Œæ•´æ€§ âœ…

- [ ] æ˜¾ç¤ºå›¢é˜Ÿåˆ—è¡¨
- [ ] åˆ›å»ºå›¢é˜ŸåŠŸèƒ½
- [ ] ç¼–è¾‘å›¢é˜ŸåŠŸèƒ½
- [ ] åˆ é™¤å›¢é˜ŸåŠŸèƒ½
- [ ] æˆå‘˜ç®¡ç†è·³è½¬

### ç”¨æˆ·ä½“éªŒ âœ…

- [ ] åŠ è½½çŠ¶æ€æ˜¾ç¤º
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] ç©ºçŠ¶æ€å¤„ç†
- [ ] æ“ä½œåé¦ˆåŠæ—¶

---

**æœ€åæ›´æ–°**ï¼š2025-01-20  
**ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ

